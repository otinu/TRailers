<h1>Users#show</h1>
<p>Find me in app/views/users/show.html.erb</p>

  <%= link_to '投稿', new_post_path,class: 'fas fa-book-open nav-link text-dark'%>
  <%= link_to 'マイページ編集', edit_user_path,class: 'fas fa-book-open nav-link text-dark'%>

  <h1><%= @user.name %>さんのページ</h1>

 <table class='table'>
  <thead>
    <tr>
      <th></th>
      <th>Title</th>
      <th>Opinion</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  <tbody>
    <% @posts.each do |post| %>
      <tr>
        <td><%= post.title %></td>
        <td><%= post.explanation %></td>
        <td>
         <% if post.user_id == current_user.id %>
           <%= link_to 'Edit', edit_post_path(post), class: "btn btn-sm btn-success" %>
         <% end %>
       </td>
       <td>
         <% if post.user_id == current_user.id %>
          <%= link_to 'Destroy', post_path(post), method: :delete, data: { confirm: '本当に消しますか？' }, class: "btn btn-sm btn-danger"%>
         <% end %>
       </td>
      </tr>
    <% end %>
  </tbody>
</table>

<!-- サインアップ直後はプロフィール画像がなく、エラー画面になってしまう状況を避けます -->
<% begin %>
<%= image_tag @user.user_validate, alt: 'テスト画像' %>
<% rescue %>
<p>プロフィール画像を投稿しましょう</p>
<% end %>

<% if current_user.mine_open == true %>
    <%= link_to count_view_mine_users_path(current_user, user: {mine_open: false}), method: :patch do %>
    <h3>自分の投稿へのgoods数を非表示にする</h3><br>
    <% end %>
<% else %>
     <%= link_to count_view_mine_users_path(current_user, user: {mine_open: true}), method: :patch do %>
    <h3>自分の投稿へのgoods数をオープンにする</h3><br>
    <% end %>
<% end %>


<% if current_user.others_open == true %>
    <%= link_to count_view_others_users_path(current_user, user: {others_open: false}), method: :put do %>
    <h3>他の人のgoods数を非表示にする</h3><br>
    <% end %>
<% else %>
     <%= link_to count_view_others_users_path(current_user, user: {others_open: true}), method: :put do %>
    <h3>他の人のgoods数をオープンにする</h3><br>
    <% end %>
<% end %>



